# Application Configuration
spring.application.name=social-network-backend

# Server Configuration
server.port=8080

# Database Configuration (PostgreSQL) - Master
spring.datasource.master.url=jdbc:postgresql://localhost:5432/social_network
spring.datasource.master.username=postgres
spring.datasource.master.password=postgres
spring.datasource.master.driver-class-name=org.postgresql.Driver

# Database Configuration (PostgreSQL) - Slave
spring.datasource.slave.url=jdbc:postgresql://localhost:5433/social_network
spring.datasource.slave.username=postgres
spring.datasource.slave.password=postgres
spring.datasource.slave.driver-class-name=org.postgresql.Driver

# JDBC Configuration
spring.jdbc.template.fetch-size=100
spring.jdbc.template.query-timeout=30

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=social-network-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer

# Redis Configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379

# Cache TTL (seconds)
spring.cache.redis.time-to-live=60000

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# Resilience4j Circuit Breaker
resilience4j.circuitbreaker.config.default.sliding-window-size=10
resilience4j.circuitbreaker.config.default.failure-rate-threshold=50
resilience4j.circuitbreaker.config.default.wait-duration-in-open-state=30s
resilience4j.circuitbreaker.config.default.permitted-number-of-calls-in-half-open-state=3

# Resilience4j Rate Limiter
resilience4j.ratelimiter.instances.visitApi.limit-for-period=20
resilience4j.ratelimiter.instances.visitApi.limit-refresh-period=1s
resilience4j.ratelimiter.instances.visitApi.timeout-duration=0s

resilience4j.ratelimiter.instances.likeApi.limit-for-period=20
resilience4j.ratelimiter.instances.likeApi.limit-refresh-period=1s
resilience4j.ratelimiter.instances.likeApi.timeout-duration=0s

# MyBatis
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.configuration.map-underscore-to-camel-case=true

# JWT
jwt.secret=change-this-to-a-secure-random-secret-at-least-32-chars
jwt.expiration-ms=86400000

# Fraud Detection
fraud.detection.threshold=100
fraud.detection.time-window-minutes=10

# Logging
logging.level.com.meet5.social=INFO
logging.level.org.springframework=INFO
